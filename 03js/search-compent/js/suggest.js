!function(){var e="class@~2.0.0",t="jquery@~1.9.2",i="suggest@1.0.1/index.js",s={},n=s;define(i,[e,t],function(e,t,i){"use strict";function s(e,t){return new l(e,t)}i.exports=s;var n=e("class"),a=e("jquery"),r=window.document,l=s.Suggest=n({Implements:"attrs events",initialize:function(e,t){this.input=e=a(e);var i=this;["panelContainer","panel","itemWrapper"].forEach(function(e){i.set(e,t[e]),delete t[e]}),this.set(t),this.selectedIndex=-1,this.hide();var s=this.get("itemSelector");this.panel.on({mouseenter:function(){i.preselect(a(this))},click:function(){i.select(a(this))}},s),a(r.body).on("click",function(){i.hide()}),this.input.on({click:function(e){e.stopPropagation()},keydown:function(e){i._applyCommand(e)}}),/msie/i.test(navigator.userAgent)&&this.input.on({keypress:function(e){13===e.keyCode&&i._applyCommand(e)}})},preselect:function(e){var t=this.get("itemActiveClass");"number"==typeof e&&(e=this.items.eq(e));var i=e.data("data"),s=e.data("index");this.items.removeClass(t),e.addClass(t),this.selectedIndex=s,this.emit("preselect",{data:i,index:s,keyword:e.data("keyword"),element:e})},select:function(e){"number"==typeof e&&(e=this.items.eq(e)),this.emit("select",{data:e.data("data"),index:e.data("index"),keyword:e.data("keyword"),element:e})},_applyCommand:function(e){if(!this.visible)return!1;var t;switch(e.keyCode){case 37:case 39:break;case 38:t=!0;case 40:e.preventDefault();var i=this.selectedIndex+(t?-1:1);i>-1&&i<this.items.length&&this.preselect(this.items.eq(i));break;case 13:this.select(this.items.eq(this.selectedIndex))}},render:function(e,t){var i=this.wrapper,s=this.get("itemRenderer");if(t.length){i.empty();var n=a();t.forEach(function(t,a){try{t.index=a,t.keyword=e}catch(r){}var l=s(t);l.appendTo(i).data({index:a,keyword:e,data:t}),n=n.add(l)},this),this.items=n,n=null}this.selectedIndex=-1,this.emit("render")},show:function(){this.panel.css("visibility","visible"),this.visible=!0,this.emit("show")},hide:function(){this.panel.css("visibility","hidden"),this.visible=!1,this.emit("close")}},{panel:{setter:function(e){var t;e?this.panel=a(e).eq(0):(this.panel=a('<ul class="suggest-panel">'),t=!0);var i=this.get("panelContainer");i?this.panel.appendTo(i):t&&this.panel.appendTo(document.body)}},itemSelector:{value:"li"},itemWrapper:{setter:function(e){var t=this.panel.find(e);this.wrapper=t.length?t.eq(0):this.panel}},itemRenderer:{value:function(e){var t=a("<li>");if(e.html)t.html(e.html);else if(e.text){var i=e.keyword,s=e.text;i&&~s.indexOf(i)&&(s=s.replace(new RegExp(i,"g"),'<span class="suggest-emphasize">'+i+"</span>")),t.html(s)}return t.addClass("suggest-item")},validator:function(e){return"function"==typeof e}},itemActiveClass:{value:"suggest-active"},panelContainer:{}})},{main:!0,map:n})}();