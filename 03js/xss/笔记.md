

xss 防范：

编码

对用户输入的数据进行Entity编码

过滤

移除用户上传的Dom属性，如onerror事件

移除用户上传的style节点，script节点，iframe节点

校正
避免直接对HTML Entity 解码
使用DOM Parse转换，校正不匹配的的Dom标签

实战：
通过构建Node服务和建立一个评论功能，实时演示Xss的攻击和防范（用户的输入，服务端存储，客户端的展现），看看哪些是套路